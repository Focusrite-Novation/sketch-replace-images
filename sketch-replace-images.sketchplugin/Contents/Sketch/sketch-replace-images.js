var that=this;function __skpm_run(e,t){that.context=t;var r=function(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./src/sketch-replace-images.js")}({"./src/sketch-replace-images-defaults.js":
/*!***********************************************!*\
  !*** ./src/sketch-replace-images-defaults.js ***!
  \***********************************************/
/*! no static exports found */function(e,t){var r="de.shakemno.sketch-replace-images.defaultsKey";e.exports={loadDefaults:function(){return NSUserDefaults.standardUserDefaults().objectForKey(r)},saveDefaults:function(e){NSUserDefaults.standardUserDefaults().setObject_forKey(e,r),NSUserDefaults.standardUserDefaults().synchronize()},clearDefaults:function(){NSUserDefaults.standardUserDefaults().removeObjectForKey(r),NSUserDefaults.standardUserDefaults().synchronize()}}},"./src/sketch-replace-images.js":
/*!**************************************!*\
  !*** ./src/sketch-replace-images.js ***!
  \**************************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var a=r(/*! ./sketch-replace-images-defaults */"./src/sketch-replace-images-defaults.js");t.default=function(e){var t=NSFileManager.defaultManager(),r=e.document,n=r.fileURL().toString().stringByDeletingLastPathComponent();log("SketchReplaceImages - trying to update images...");var s=n;/\/$/.test(s)||(s+="/");var i=NSURL.URLWithString_relativeToURL(s,r.fileURL()),o=a.loadDefaults();o&&(s=o,i=NSURL.URLWithString(s));var l=t.fileExistsAtPath(i.path());if(console.log("isValidPath: "+l),0!==l){console.log("url: "+i);var c,u,f=t.enumeratorAtPath(i.path()),d=r.currentPage().children(),g=NSArray.arrayWithArray(["png","jpg","jpeg"]),p=NSMutableDictionary.dictionary(),h=[];for(console.log("collecting available images...");c=f.nextObject();){var y=c.toString().lastPathComponent(),m=y.pathExtension();g.containsObject(m)&&p.setObject_forKey(c,y)}console.log("updating images...");for(var S=p.allKeys(),v=0;v<d.count();v++){var b=d[v];if("MSBitmapLayer"==b.class().toString())for(var U=0;U<g.count();U++){var j=g.objectAtIndex(U),_=b.name()+"."+j;if(S.containsObject(_)){var D=p.objectForKey(_);if(D=D.stringByAddingPercentEscapesUsingEncoding(NSUTF8StringEncoding),u=o?NSURL.URLWithString(s+D):NSURL.URLWithString_relativeToURL(D,i),t.fileExistsAtPath(u.path())){var R=NSImage.alloc().initByReferencingFile(u.path());if(R.isValid()){var L=b.frame().width(),N=b.frame().height();MSReplaceImageAction.alloc().init().applyImage_tolayer(R,b),b.frame().setWidth(L),b.frame().setHeight(N),h.push(_);break}}}}}h.length>0?r.showMessage(h.length+" images updated."):r.showMessage("Sorry, couldn't update images...")}else r.showMessage("Sorry, can't find a valid directory. Try (re-)setting the path url.")}}});"default"===e&&"function"==typeof r?r(t):r[e](t)}that.onRun=__skpm_run.bind(this,"default");